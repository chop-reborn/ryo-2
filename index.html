<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>飲食店 MVP モック v2.3.1 Full</title>
  <style>
    body { font-family: sans-serif; margin:0; background:#f7f7f9; }
    header { background:#fff; border-bottom:1px solid #ddd; position:sticky; top:0; z-index:10; }
    h1 { margin:0; padding:12px 16px; font-size:18px; }
    nav { display:flex; gap:6px; padding:8px; flex-wrap:wrap; }
    nav button { flex:1; min-width:100px; padding:8px; border:1px solid #ccc; border-radius:6px; cursor:pointer; background:#fff; }
    nav button.active { background:#0a7cff; color:#fff; border-color:#0a7cff; }
    main { padding:16px; max-width:900px; margin:0 auto; }
    section { background:#fff; padding:16px; border-radius:8px; margin-bottom:16px; box-shadow:0 1px 3px rgba(0,0,0,0.05); }
    .hidden { display:none; }
    .btn{padding:6px 12px; border-radius:6px; border:1px solid #ccc; cursor:pointer; margin:2px;}
    .btn.primary{background:#0a7cff;color:#fff;border-color:#0a7cff;}
    .right{text-align:right;}
    table{width:100%;border-collapse:collapse;margin-top:8px;}
    th,td{border:1px solid #ccc;padding:4px;}
  </style>
</head>
<body>
  <header>
    <h1>飲食店 MVP モック v2.3.1 Full</h1>
    <nav>
      <button data-tab="home" class="active">ホーム</button>
      <button data-tab="sales">売上入力</button>
      <button data-tab="customers">顧客台帳</button>
      <button data-tab="line">LINE配信</button>
      <button data-tab="settings">設定</button>
    </nav>
  </header>
  <main>
    <section id="home">
      <h2>ホーム</h2>
      <div>今日の売上: <span id="todayTotal">0</span> 円</div>
      <div>現金: <span id="todayCash">0</span> / カード: <span id="todayCard">0</span> / CL合計: <span id="todayCL">0</span></div>
      <div>来店回数: <button id="decVisit">−</button> <span id="visitCount">0</span> <button id="incVisit">＋</button></div>
      <button id="closeToday" class="btn">今日を締める</button> <span id="todayClosed" class="hidden">締め済</span>
      <h3>日別サマリー</h3>
      <table id="summaryTable"><thead><tr><th>日付</th><th>合計</th><th>現金</th><th>カード</th><th>CL</th><th>件数</th><th>締め</th></tr></thead><tbody></tbody></table>
    </section>
    <section id="sales" class="hidden">
      <h2>売上入力</h2>
      <label>日付 <input type="date" id="saleDate"></label><br>
      <label>現金 <input type="number" id="cash"></label>
      <label>カード <input type="number" id="card"></label><br>
      <label>CL-PayPay <input type="number" id="cl_paypay"></label>
      <label>CL-交通系 <input type="number" id="cl_transit"></label>
      <label>CL-その他 <input type="number" id="cl_other"></label><br>
      <label>メモ <input id="saleNote"></label><br>
      <button id="saveSale" class="btn primary">保存</button>
      <button id="exportSales" class="btn">CSVで保存</button>
      <input type="file" id="importSalesFile" class="hidden">
      <button id="importSalesBtn" class="btn">CSVを読み込む</button>
      <h3>売上一覧</h3>
      <table id="salesTable"><thead><tr><th>日付</th><th>メモ</th><th>内訳</th><th>合計</th><th></th></tr></thead><tbody></tbody></table>
    </section>
    <section id="customers" class="hidden">
      <h2>顧客台帳</h2>
      <label>名前 <input id="custName"></label>
      <label>連絡先 <input id="custContact"></label>
      <label>メモ <input id="custMemo"></label><br>
      <button id="saveCustomer" class="btn primary">保存</button>
      <button id="exportCustomers" class="btn">CSVで保存</button>
      <input type="file" id="importCustFile" class="hidden">
      <button id="importCustBtn" class="btn">CSVを読み込む</button>
      <h3>顧客一覧</h3>
      <table id="custTable"><thead><tr><th>名前</th><th>連絡先</th><th>メモ</th><th></th></tr></thead><tbody></tbody></table>
    </section>
    <section id="line" class="hidden">
      <h2>LINE配信（ダミー）</h2>
      <textarea id="lineMsg"></textarea><br>
      <button id="sendLine" class="btn primary">配信する</button>
    </section>
    <section id="settings" class="hidden">
      <h2>設定</h2>
      <label>PIN <input id="pinSet" maxlength="4"></label>
      <button id="savePin" class="btn">保存</button>
      <button id="clearPin" class="btn">解除</button><br>
      <button id="resetData" class="btn">すべて削除</button>
    </section>
  </main>
  <script>
    document.addEventListener("DOMContentLoaded",()=>{
      const tabs=document.querySelectorAll("nav button");const sections=document.querySelectorAll("main section");
      function showTab(id){tabs.forEach(b=>b.classList.toggle("active",b.dataset.tab===id));sections.forEach(s=>s.classList.toggle("hidden",s.id!==id));}
      tabs.forEach(b=>b.addEventListener("click",()=>showTab(b.dataset.tab)));
      showTab("home");
      const fmt=n=>Number(n||0).toLocaleString();const todayStr=()=>{const d=new Date();const m=String(d.getMonth()+1).padStart(2,'0');const da=String(d.getDate()).padStart(2,'0');return d.getFullYear()+"-"+m+"-"+da;};
      const SALES_KEY='sales',CUST_KEY='cust',VISIT_KEY='visits',PIN_KEY='pin',CLOSE_KEY='closed';
      const getSales=()=>JSON.parse(localStorage.getItem(SALES_KEY)||'[]');const setSales=v=>localStorage.setItem(SALES_KEY,JSON.stringify(v));
      const getCust=()=>JSON.parse(localStorage.getItem(CUST_KEY)||'[]');const setCust=v=>localStorage.setItem(CUST_KEY,JSON.stringify(v));
      const getVisits=()=>Number(localStorage.getItem(VISIT_KEY)||0);const setVisits=v=>localStorage.setItem(VISIT_KEY,String(Math.max(0,v)));
      const getClosed=()=>JSON.parse(localStorage.getItem(CLOSE_KEY)||'{}');const setClosed=o=>localStorage.setItem(CLOSE_KEY,JSON.stringify(o));
      function renderToday(){const today=todayStr();const list=getSales().filter(x=>x.date===today);let sum=0,c=0,ca=0,cl=0;list.forEach(r=>{sum+=Number(r.cash||0)+Number(r.card||0)+Number(r.cl_paypay||0)+Number(r.cl_transit||0)+Number(r.cl_other||0);c+=Number(r.cash||0);ca+=Number(r.card||0);cl+=Number(r.cl_paypay||0)+Number(r.cl_transit||0)+Number(r.cl_other||0);});document.getElementById("todayTotal").textContent=fmt(sum);document.getElementById("todayCash").textContent=fmt(c);document.getElementById(...
  </script>
</body>
</html>
